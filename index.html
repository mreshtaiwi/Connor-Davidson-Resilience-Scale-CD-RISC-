<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ù…Ø±ÙˆÙ†Ø© (CDâ€‘RISCâ€‘10)</title>
  <style>
    :root {
      --bg: #0f172a;       /* slate-900 */
      --card: #111827;     /* gray-900 */
      --muted: #94a3b8;    /* slate-400 */
      --text: #e5e7eb;     /* gray-200 */
      --accent: #22c55e;   /* green-500 */
      --accent-2: #06b6d4; /* cyan-500 */
      --danger: #ef4444;   /* red-500 */
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }
    body { margin:0; background: radial-gradient(1000px 600px at 80% -200px, rgba(34,197,94,.15), transparent),
                               radial-gradient(800px 500px at -100px 100%, rgba(6,182,212,.12), transparent),
                               var(--bg);
           color: var(--text); font-family: system-ui, -apple-system, "Segoe UI", Roboto, Cairo, Tahoma, sans-serif; }
    .wrap { max-width: 1000px; margin: 32px auto; padding: 0 16px; }
    header { display:flex; flex-direction: column; gap:10px; margin-bottom: 18px; }
    .title { font-weight: 800; letter-spacing: .2px; font-size: clamp(24px, 3vw, 34px); }
    .subtitle { color: var(--muted); line-height: 1.7; }

    .card { background: linear-gradient(180deg, rgba(17,24,39,.95), rgba(15,23,42,.95)); border: 1px solid rgba(148,163,184,.18);
            box-shadow: var(--shadow); border-radius: var(--radius); padding: 18px; }

    .grid { display:grid; grid-template-columns: 1fr; gap: 14px; }

    .item { background: rgba(2,6,23,.35); border: 1px solid rgba(148,163,184,.15); border-radius: 16px; padding: 14px; }
    .question { font-weight: 600; margin-bottom: 8px; }

    .scale { display:flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .opt { display:flex; align-items:center; gap:6px; background: rgba(255,255,255,.03); border: 1px solid rgba(148,163,184,.15);
           padding:8px 10px; border-radius: 12px; cursor:pointer; }
    input[type="radio"] { transform: scale(1.1); accent-color: var(--accent); }

    .legend { display:flex; gap: 10px; align-items:center; color: var(--muted); font-size: 14px; margin-top: 6px; }
    .badge { border: 1px dashed rgba(148,163,184,.35); border-radius: 999px; padding: 4px 10px; }

    .actions { display:flex; gap: 10px; flex-wrap: wrap; margin-top: 16px; }
    .btn { border: 0; border-radius: 14px; padding: 12px 16px; font-weight: 700; cursor:pointer; }
    .primary { background: linear-gradient(135deg, var(--accent), #16a34a); color: #06281a; }
    .secondary { background: linear-gradient(135deg, var(--accent-2), #0891b2); color: #03242a; }
    .ghost { background: transparent; color: var(--text); border: 1px solid rgba(148,163,184,.25); }

    .result { margin-top: 16px; display:none; }
    .result .score { font-size: clamp(22px, 2.6vw, 28px); font-weight: 800; }
    .result .bar { height: 10px; background: rgba(148,163,184,.2); border-radius: 999px; overflow:hidden; margin: 10px 0 2px; }
    .result .fill { height: 100%; width: 0%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); transition: width .5s ease; }
    .hint { color: var(--muted); font-size: 14px; }

    .footer { color: var(--muted); margin-top: 22px; font-size: 13px; }
    .error { color: var(--danger); font-weight:700; display:none; }
    .sticky-top { position: sticky; top: 0; z-index: 5; padding: 8px 0 12px; backdrop-filter: blur(6px); margin-bottom: 8px; }

    @media (min-width: 900px) {
      .grid { grid-template-columns: 1fr 1fr; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ù…Ø±ÙˆÙ†Ø© Ø§Ù„Ø´Ø®ØµÙŠØ© â€“ CDâ€‘RISCâ€‘10</div>
      <div class="subtitle">Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„ÙƒÙ„ Ø¹Ø¨Ø§Ø±Ø© ÙˆÙÙ‚ Ø§Ù„Ù…Ù‚ÙŠØ§Ø³: 0 = Ø£Ø¨Ø¯Ø§Ù‹ØŒ 1 = Ù†Ø§Ø¯Ø±Ø§Ù‹ Ø¬Ø¯Ø§Ù‹ØŒ 2 = Ø£Ø­ÙŠØ§Ù†Ø§Ù‹ØŒ 3 = ØºØ§Ù„Ø¨Ø§Ù‹ØŒ 4 = Ø¯Ø§Ø¦Ù…Ø§Ù‹ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹. Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø³ÙŠØ¸Ù‡Ø± Ù…Ø¬Ù…ÙˆØ¹Ùƒ ÙˆØªÙØ³ÙŠØ± Ù…Ø®ØªØµØ±.</div>
    </header>

    <div class="card">
      <div class="sticky-top">
        <div class="legend">
          <span class="badge">0 Ø£Ø¨Ø¯Ø§Ù‹</span>
          <span class="badge">1 Ù†Ø§Ø¯Ø±Ø§Ù‹ Ø¬Ø¯Ø§Ù‹</span>
          <span class="badge">2 Ø£Ø­ÙŠØ§Ù†Ø§Ù‹</span>
          <span class="badge">3 ØºØ§Ù„Ø¨Ø§Ù‹</span>
          <span class="badge">4 Ø¯Ø§Ø¦Ù…Ø§Ù‹ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹</span>
          <span class="badge" id="progress-badge">ØªÙ‚Ø¯Ù‘Ù…: 0/10</span>
        </div>
      </div>

      <form id="form">
        <div class="grid" id="questions"></div>
        <div class="actions">
          <button type="submit" class="btn primary">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¯Ø±Ø¬Ø©</button>
          <button type="button" class="btn secondary" id="resetBtn">Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø·</button>
          <button type="button" class="btn ghost" id="printBtn">Ø·Ø¨Ø§Ø¹Ø© / Ø­ÙØ¸ PDF</button>
        </div>
        <div id="error" class="error">Ø±Ø¬Ø§Ø¡Ù‹ Ø£Ø¬Ø¨ Ø¹Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø¨Ø§Ø±Ø§Øª (10 Ù…Ù† 10).</div>
      </form>

      <div id="result" class="result">
        <div class="score">Ø¯Ø±Ø¬ØªÙƒ: <span id="score">0</span> / 40</div>
        <div class="bar"><div class="fill" id="fill"></div></div>
        <div class="hint"><span id="level"></span> â€” <span id="tip"></span></div>
      </div>

      <div class="footer">Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªÙˆØ¹ÙˆÙŠ ÙˆØ§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ ÙˆÙ„ÙŠØ³ ØªØ´Ø®ÙŠØµØ§Ù‹ Ø·Ø¨ÙŠØ§Ù‹. ÙŠÙ…ÙƒÙ†Ùƒ ØªÙƒØ±Ø§Ø±Ù‡ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ù„Ù…ØªØ§Ø¨Ø¹Ø© ØªÙ‚Ø¯Ù…Ùƒ.</div>
      <div class="card" style="margin-top:20px;">
  <h3 style="margin-bottom:10px;">ğŸ“š Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</h3>
  <ul style="line-height:1.8; color:#94a3b8; font-size:14px;">
    <li>
      Connor, K. M., & Davidson, J. R. T. (2003). 
      <i>Development of a new resilience scale: The Connor-Davidson Resilience Scale (CD-RISC).</i> 
      <b>Depression and Anxiety, 18(2)</b>, 76â€“82. 
      <a href="https://pubmed.ncbi.nlm.nih.gov/12964174/" target="_blank">[Ø±Ø§Ø¨Ø· PubMed]</a>
    </li>
    <li>
      Campbell-Sills, L., & Stein, M. B. (2007). 
      <i>Psychometric analysis and refinement of the Connorâ€“Davidson Resilience Scale (CD-RISC): Validation of a 10-item measure of resilience.</i> 
      <b>Journal of Traumatic Stress, 20(6)</b>, 1019â€“1028. 
      <a href="https://pubmed.ncbi.nlm.nih.gov/18157881/" target="_blank">[Ø±Ø§Ø¨Ø· PubMed]</a>
    </li>
  </ul>
</div>

    </div>
  </div>

  <script>
    const items = [
      "Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„ØªÙƒÙŠÙ Ù…Ø¹ Ø§Ù„ØªØºÙŠØ±Ø§Øª.",
      "Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø£ÙŠ Ù…ÙˆÙ‚Ù ØµØ¹Ø¨.",
      "Ø£Ø­Ø§ÙˆÙ„ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø£Ù† Ø£Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ù…Ø´Ø±Ù‚ Ù…Ù† Ø§Ù„Ø£Ù…ÙˆØ±.",
      "Ø¹Ù†Ø¯Ù…Ø§ Ø£ØªØ¹Ø±Ø¶ Ù„Ù…Ø´ÙƒÙ„Ø©ØŒ Ø£Ø¬Ø¯ Ø·Ø±ÙŠÙ‚Ø© Ù„ØªØ¬Ø§ÙˆØ²Ù‡Ø§.",
      "ÙÙŠ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµØ¹Ø¨Ø©ØŒ Ø£Ø³ØªØ·ÙŠØ¹ Ø£Ù† Ø£Ø¨Ù‚Ù‰ Ù…Ø±ÙƒØ²Ø§Ù‹ ÙˆÙˆØ§Ø¶Ø­ Ø§Ù„ØªÙÙƒÙŠØ±.",
      "Ø£Ø³ØªØ·ÙŠØ¹ Ø£Ù† Ø£ØªØµØ±Ù Ø¨ÙØ¹Ø§Ù„ÙŠØ© Ø­ØªÙ‰ Ù„Ùˆ ÙƒÙ†Øª Ù…ØªÙˆØªØ±Ø§Ù‹.",
      "Ø£Ø³ØªØ·ÙŠØ¹ Ù…ÙˆØ§Ø¬Ù‡Ø© Ø£ÙŠ Ø­Ø¯Ø« Ù…Ù‡Ù…Ø§ ÙƒØ§Ù† ØµØ¹Ø¨Ø§Ù‹.",
      "Ø¹Ø§Ø¯Ø©Ù‹ Ù…Ø§ Ø£ØªØ¹Ø§ÙÙ‰ Ø¨Ø³Ø±Ø¹Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ø¹ØµÙŠØ¨Ø©.",
      "Ø­ØªÙ‰ Ù„Ùˆ Ø¨Ø¯Ø§ Ø§Ù„Ø£Ù…Ø± Ù…Ø³ØªØ­ÙŠÙ„Ø§Ù‹ØŒ Ù„Ø§ Ø£Ø³ØªØ³Ù„Ù… Ø¨Ø³Ù‡ÙˆÙ„Ø©.",
      "Ø£Ø¹ØªÙ‚Ø¯ Ø£Ù†Ù†ÙŠ Ø£Ù…ØªÙ„Ùƒ Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© Ø§Ù„ØªÙŠ ØªØ³Ø§Ø¹Ø¯Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±."
    ];

    const grid = document.getElementById('questions');
    const progressBadge = document.getElementById('progress-badge');

    function renderQuestions() {
      grid.innerHTML = '';
      items.forEach((q, idx) => {
        const id = `q${idx}`;
        const block = document.createElement('div');
        block.className = 'item';
        block.innerHTML = `
          <div class="question">${idx+1}. ${q}</div>
          <div class="scale" role="radiogroup" aria-labelledby="${id}-label">
            ${[0,1,2,3,4].map(v => `
              <label class="opt">
                <input type="radio" name="${id}" value="${v}">
                <span>${v}</span>
              </label>
            `).join('')}
          </div>
        `;
        grid.appendChild(block);
      });
    }

    function getAnsweredCount() {
      let c = 0;
      items.forEach((_, idx) => {
        const name = `q${idx}`;
        if (document.querySelector(`input[name="${name}"]:checked`)) c++;
      });
      return c;
    }

    function updateProgress() {
      const answered = getAnsweredCount();
      progressBadge.textContent = `ØªÙ‚Ø¯Ù‘Ù…: ${answered}/10`;
    }

    function interpret(score) {
      if (score >= 30) return { level: 'Ù…Ø±ÙˆÙ†Ø© Ø¹Ø§Ù„ÙŠØ©', tip: 'Ø§Ø³ØªÙ…Ø± ÙÙŠ Ù…Ù…Ø§Ø±Ø³Ø§ØªÙƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ© (ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø¶ØºØ·ØŒ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø¹Ø±ÙÙŠØŒ Ø¯Ø¹Ù… Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ).'};
      if (score >= 20) return { level: 'Ù…Ø±ÙˆÙ†Ø© Ù…ØªÙˆØ³Ø·Ø©', tip: 'Ø·ÙˆÙ‘Ø± Ø¹Ø§Ø¯Ø§Øª ØªØ¹Ø²ÙŠØ² Ø§Ù„Ù…Ø±ÙˆÙ†Ø© Ù…Ø«Ù„ ØªØ¯ÙˆÙŠÙ† Ø§Ù„Ø¯Ø±ÙˆØ³ØŒ Ø·Ù„Ø¨ Ø§Ù„Ø¯Ø¹Ù…ØŒ ÙˆØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„ØªÙ†ÙØ³.'};
      return { level: 'Ù…Ø±ÙˆÙ†Ø© Ù…Ù†Ø®ÙØ¶Ø©', tip: 'Ø§Ø¨Ø¯Ø£ Ø¨Ø®Ø·ÙˆØ§Øª ØµØºÙŠØ±Ø©: Ø§Ù„Ù†ÙˆÙ… Ø§Ù„Ø¬ÙŠØ¯ØŒ Ù†Ø´Ø§Ø· Ø¨Ø¯Ù†ÙŠ Ø®ÙÙŠÙØŒ ØªÙ‚Ù†ÙŠØ§Øª ØªÙ‡Ø¯Ø¦Ø©ØŒ ÙˆØ®Ø·Ø© Ù„Ù…ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª.'};
    }

    document.addEventListener('change', (e) => {
      if (e.target.matches('input[type="radio"]')) updateProgress();
    });

    document.getElementById('form').addEventListener('submit', (e) => {
      e.preventDefault();
      const error = document.getElementById('error');
      const result = document.getElementById('result');
      const scoreEl = document.getElementById('score');
      const fill = document.getElementById('fill');
      const levelEl = document.getElementById('level');
      const tipEl = document.getElementById('tip');

      let total = 0; let answered = 0;
      items.forEach((_, idx) => {
        const name = `q${idx}`;
        const checked = document.querySelector(`input[name="${name}"]:checked`);
        if (checked) { total += Number(checked.value); answered++; }
      });

      if (answered < items.length) {
        error.style.display = 'block';
        result.style.display = 'none';
        return;
      }

      error.style.display = 'none';
      scoreEl.textContent = total;
      const pct = Math.round((total / 40) * 100);
      fill.style.width = pct + '%';
      const { level, tip } = interpret(total);
      levelEl.textContent = level;
      tipEl.textContent = tip;
      result.style.display = 'block';
      result.scrollIntoView({ behavior: 'smooth', block: 'center' });
    });

    document.getElementById('resetBtn').addEventListener('click', () => {
      document.querySelectorAll('input[type="radio"]').forEach(i => i.checked = false);
      document.getElementById('result').style.display = 'none';
      document.getElementById('error').style.display = 'none';
      document.getElementById('fill').style.width = '0%';
      document.getElementById('score').textContent = '0';
      updateProgress();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    document.getElementById('printBtn').addEventListener('click', () => window.print());

    // init
    renderQuestions();
    updateProgress();
  </script>
</body>
</html>
